<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Valentine üíñ</title>

  <style>
    :root{
      --pink1:#ffdde1;
      --pink2:#ee9ca7;
      --yes:#27ae60;
      --no:#ff4757;
      --card:rgba(255,255,255,.92);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, var(--pink1), var(--pink2));
      overflow:hidden;
    }
    .card{
      width:min(560px, 92vw);
      background: var(--card);
      border-radius:18px;
      padding:28px 22px;
      text-align:center;
      box-shadow:0 14px 50px rgba(0,0,0,.15);
    }
    h1{
      margin:0 0 10px;
      font-size: clamp(26px, 4vw, 40px);
      color:#d81b60;
    }
    p{
      margin:0 0 18px;
      color:#333;
      font-size:16px;
    }

    .arena{
      position:relative;
      width:100%;
      height:180px;
      margin-top:12px;
      border-radius:14px;
      background: rgba(255, 215, 230, .35);
      overflow:hidden;
    }

    .btn{
      border:none;
      cursor:pointer;
      padding:14px 24px;
      font-weight:800;
      border-radius:999px;
      font-size:16px;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, box-shadow .2s ease;
      box-shadow: 0 8px 18px rgba(0,0,0,.12);
      position:absolute;
      top:22px;
    }
    .btn:active{ transform: scale(.98); }

    #yesBtn{
      background: var(--yes);
      color:white;
      left: 50%;
      transform: translateX(-120%);
    }

    #noBtn{
      background: var(--no);
      color:white;
      left: 50%;
      transform: translateX(20%);
      touch-action: none; /* improves touch event control */
    }

    .msg{
      margin-top:18px;
      min-height:28px;
      font-size:18px;
      font-weight:800;
      color:#6a1b9a;
    }
    .submsg{
      margin-top:6px;
      min-height:18px;
      font-size:13px;
      color:#444;
      opacity:.85;
    }

    .hearts{
      display:none;
      margin-top:10px;
      font-size:34px;
      animation: float 1.7s ease-in-out infinite;
    }
    @keyframes float{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-8px); }
    }
  </style>
</head>

<body>
  <div class="card">
    <h1>Do you love me? üíñ</h1>
    <p>Choose one üòè</p>

    <div class="arena" id="arena">
      <button class="btn" id="yesBtn">Yes üòç</button>
      <button class="btn" id="noBtn">No üôÉ</button>
    </div>

    <div class="msg" id="msg"></div>
    <div class="submsg" id="submsg"></div>
    <div class="hearts" id="hearts">üíòüíòüíò</div>
  </div>

  <script>
    const arena  = document.getElementById("arena");
    const noBtn  = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const msg    = document.getElementById("msg");
    const submsg = document.getElementById("submsg");
    const hearts = document.getElementById("hearts");

    // Option 5: Messages that appear on the No button (cycles each attempt)
    const noTexts = [
      "No üôÉ",
      "Are you sure? üòè",
      "Think again ü§≠",
      "Last chance ü•∫",
      "Nope üòà",
      "Nice try üòÇ",
      "Not allowed üòå"
    ];

    // Extra teasing lines below
    const teaseLines = [
      "Hehe‚Ä¶ you can‚Äôt pick that üòå",
      "You‚Äôre adorable for trying üòÇ",
      "That button is in ‚Äúescape mode‚Äù üèÉ‚Äç‚ôÇÔ∏è",
      "Wrong answer is unavailable üòè",
      "Okay okay‚Ä¶ we both know the truth üòåüíñ"
    ];

    let attempts = 0;
    let locked = false;

    const rand = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

    function moveNoButton(){
      const arenaRect = arena.getBoundingClientRect();
      const btnW = noBtn.offsetWidth;
      const btnH = noBtn.offsetHeight;

      const pad = 10;
      const maxX = Math.max(pad, Math.floor(arenaRect.width  - btnW - pad));
      const maxY = Math.max(pad, Math.floor(arenaRect.height - btnH - pad));

      const x = rand(pad, maxX);
      const y = rand(pad, maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
      noBtn.style.transform = "none";
    }

    // Option 4: "No" behaves like "Yes"
    function treatAsYes(fromNo=false){
      if (locked) return;
      locked = true;

      msg.textContent = fromNo
        ? "I know you love me üòåüíñ"
        : "Yayyy üò≠üíñ I love you too! Happy Valentine‚Äôs Day ü•∞";

      submsg.textContent = fromNo
        ? "No option rejected by system ‚úÖ"
        : "Best answer selected ‚úÖ";

      hearts.style.display = "block";

      // Lock both buttons after result
      yesBtn.disabled = true;
      noBtn.disabled  = true;
      yesBtn.style.opacity = "0.75";
      noBtn.style.opacity  = "0.55";
      yesBtn.style.cursor  = "not-allowed";
      noBtn.style.cursor   = "not-allowed";
    }

    // Option 5 behavior: each "attempt" changes text + shows teasing line
    function onNoAttempt(){
      if (locked) return;

      attempts++;
      noBtn.textContent = noTexts[(attempts - 1) % noTexts.length];
      submsg.textContent = teaseLines[Math.min(teaseLines.length - 1, Math.floor((attempts - 1) / 2))];

      // Keep it moving
      moveNoButton();

      // Guarantee the joke lands on touch devices:
      // After a few failed attempts, auto-trigger the "No = Yes" message
      if (attempts >= 6) {
        setTimeout(() => treatAsYes(true), 250);
      }
    }

    // Desktop: run when mouse approaches
    ["mouseenter","mouseover","pointerenter"].forEach(evt =>
      noBtn.addEventListener(evt, onNoAttempt)
    );

    // Mobile: touch attempt
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      onNoAttempt();
    }, { passive:false });

    // If she manages to click No (rare), it still acts like Yes (Option 4)
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      treatAsYes(true);
    });

    // Yes click stays normal
    yesBtn.addEventListener("click", () => treatAsYes(false));

    // First shuffle after load
    window.addEventListener("load", () => {
      setTimeout(moveNoButton, 350);
    });
  </script>
</body>
</html>
